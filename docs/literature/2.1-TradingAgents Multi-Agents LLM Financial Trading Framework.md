文獻導讀
Xiao et al. (2025). TradingAgents: Multi-Agents LLM Financial Trading Framework.

https://arxiv.org/pdf/2412.20138?
arXiv:2412.20138v7

1. 研究背景與動機

近年大型語言模型（LLM）被用來建構自動化金融代理系統，但多數研究有兩項限制：

缺乏真實交易組織的結構對應
多數架構只模擬單一交易員或簡單多代理分工，沒有對應真實交易公司中：

基本面分析

技術面分析

情緒分析

風險管理
等明確角色與決策流程。

僅依賴自然語言溝通，資訊容易失真
多代理系統若只用對話歷史或鬆散的文字池作為溝通介面，容易出現：

上下文遺失

訊息在多輪對話中被扭曲（telephone effect）

難以追蹤狀態與決策依據

為了解決上述問題，TradingAgents 提出一套 模仿專業交易團隊的多代理 LLM 交易框架，並搭配 結構化溝通協定，以提升交易決策的穩定性與績效。

2. 研究目的

TradingAgents 的主要目標為：

建立一個貼近真實交易公司的 多角色、多層級 LLM 代理架構

透過 專業分工與辯論機制，提升交易決策的合理性與穩健度

設計一套 結構化溝通協定（structured communication protocol），減少僅用自然語言溝通的資訊失真問題

在股票交易場景中，與傳統技術指標策略與其他基準方法比較交易績效（累積報酬、夏普值、最大回撤等）

3. 系統架構與方法

TradingAgents 的整體架構可分為三個主要層級與多種角色代理人。

3.1 整體組織架構

系統模擬一間交易公司內部的決策流程，主要包含：

Analysts Team（分析師團隊）

Research Team（研究團隊）

Trader Agents（交易員）

Risk Management Team（風險管理團隊）

Fund Manager（基金經理人）

各代理人由 LLM 驅動，依照不同角色分工進行市場資訊蒐集、分析、辯論、風險調整與最終下單決策。

3.2 Analysts Team：資訊蒐集與初步分析

Analysts Team 包含多種專職分析代理人，例如：

Fundamental Analyst：分析公司財報、估值、產業基本面

Sentiment Analyst：分析新聞、社群與市場情緒

Technical Analyst：分析價量結構與技術指標

Macro Analyst：分析總體經濟與宏觀指標

各分析師從外部資料來源與歷史數據中萃取關鍵資訊，撰寫結構化的分析報告，寫入共享的全域狀態（global agent state）。

3.3 Research Team：多觀點辯論與綜合判斷

Research Team 由多位研究員代理人組成，並具備對立觀點設定：

Bull Researcher：偏多頭立場

Bear Researcher：偏空頭立場

流程：

研究員從 global state 讀取 Analysts 的報告

由辯論主持代理人設定討論輪數

Bull / Bear 進行多輪自然語言辯論

主持代理人根據辯論過程，總結並寫出結論，存回結構化狀態

此設計模擬交易公司中研究部門對交易主題的多角度討論與整合。

3.4 Trader Agents：策略決策與風格差異

Trader Agents 代表具不同風險偏好的交易員，例如：

Risky Trader：傾向高風險、高報酬策略

Neutral Trader：中庸策略

Safe Trader：偏保守、風險控制優先

交易員代理人：

讀取 Research Team 的結論與分析摘要

結合歷史價格數據與技術狀態

產生交易計畫（例：Buy / Sell / Hold、部位大小、持有期間）

以結構化格式（如 JSON 狀態）寫入共享狀態，供後續風險團隊審查

3.5 Risk Management Team 與 Fund Manager：風險審核與最終核准

Risk Management Team：

檢視交易員的交易提案與部位配置

從 風險追求 / 中立 / 保守 三種觀點進行多輪討論

評估市場波動、流動性、曝險集中度等

在結構化狀態中調整或標註風險建議

Fund Manager：

閱讀風險管理團隊的討論結果與建議

作為最終決策者，核准或修改交易計畫

更新最終交易指令與報告內容

此流程對應真實交易公司中「交易員 → 風控 → 基金經理人」的決策路徑。

3.6 Communication Protocol：結構化溝通協定

TradingAgents 特別強調溝通介面設計：

多數現有 LLM 框架依賴自然語言對話歷史，容易產生資訊遺失與扭曲

該框架參考 MetaGPT 等工作，引入 結構化狀態（structured agent state） 與清楚定義的欄位

主要特徵：

每個代理人只讀取與自身任務相關的欄位

每一步的輸出皆寫回統一的狀態結構

辯論過程與最終結論都以結構化方式記錄

減少長對話歷史造成的訊息污染，提升多輪決策穩定度

3.7 Backbone LLM 選擇

框架中根據任務複雜度與速度需求，選擇不同的 LLM：

輕量模型（如 gpt-4o-mini）處理摘要、表格轉文字等輕量任務

功能較強的模型（如 gpt-4o）用於辯論、決策、風險評估等高複雜度推理任務

透過分層選擇 backbone model，兼顧成本與效能。

4. 實驗設計與資料
4.1 市場標的與期間

實驗選取多檔美股（例如 AAPL, GOOGL, AMZN）進行回測，並在特定測試期間比較不同策略的表現。

4.2 基準方法（Baselines）

與下列策略比較：

Buy-and-Hold（B&H）：買進持有基準

MACDStrategy：基於 MACD 指標的簡單技術策略

KDJRSIStrategy：結合 KDJ 與 RSI 的指標策略

ZMRStrategy、SMAStrategy：其他規則型技術指標策略

以及其他 LLM / 代理型交易方法（根據論文中列舉之相關工作）

TradingAgents 被視為多代理 LLM 交易系統的主要比較對象。

4.3 評估指標

常用評估指標包括：

CR%（Cumulative Return）：累積報酬率

ARR%（Annual Return Rate）：年化報酬率

SR（Sharpe Ratio）：風險調整後報酬

MDD%（Max Drawdown）：最大回撤

5. 實驗結果
5.1 報酬與風險表現

根據實驗表格與圖表：

TradingAgents 在多數測試標的上達到最高或接近最高的累積報酬與年化報酬

夏普值顯示其在風險調整後的表現優於多數基準策略

最大回撤顯示該框架在波動環境下具一定風險控制能力

在 AAPL 等高波動標的上，傳統規則型策略表現較差，TradingAgents 則仍能產生具競爭力的收益與較佳的風險表現。

5.2 架構設計對績效的貢獻

論文指出以下設計有助於提升績效：

角色明確的多代理架構（Analysts / Researchers / Traders / Risk）

使用辯論與對立觀點（Bull vs Bear, Risky vs Safe）提升決策穩健度

結構化溝通協定減少訊息扭曲，讓多輪決策仍能維持一致性

6. 研究貢獻

提出仿真實交易公司的多代理 LLM 交易框架
將分析、研究、交易、風控與基金管理角色以 LLM 代理具體化。

設計結構化溝通協定
以統一、結構化的狀態代替單純自然語言歷史，減少 long-horizon 任務中的資訊遺失與誤傳。

實證多代理 LLM 架構在交易策略上的優勢
顯示在多檔股票與不同指標下，TradingAgents 能優於多種規則型與基準策略。

結合理性辯論與風險控制
將辯論式推理、風險管理與最終決策整合進同一代理架構中。

7. 研究限制與未來方向
限制

回測標的與期間有限，尚未涵蓋更長期或多市場情境

成本、滑價與實際交易執行細節未完全納入

依賴雲端 LLM，成本與延遲在實務應用上需考量

未來方向

擴展到更多資產類別與市場（期貨、外匯、加密貨幣等）

加入更精細的交易成本與執行模型

結合本地模型或混合部署策略以降低成本

更深入分析多代理溝通結構對決策品質與穩定性的影響

8. 與本系統之關聯（Applicability to This System）

作為 L2 決策層的主要參考架構
TradingAgents 展示 LLM 代理可透過角色分工與多層決策流程執行金融交易，與本系統 L2 作為 Decision Agent Layer 的角色高度一致。

支援多層架構設計理念（L0 / L1 / L2）
多代理角色分工與辯論流程，可與本系統 L0（XGBoost 訊號）與 L1（SHAP 語義轉譯）串接，形成完整事件驅動決策鏈。

提供溝通協定設計參考
結構化 agent state 的做法，可用於設計本系統中 L1 → L2 的訊息格式（包含語義摘要、風險指標與模型信心等欄位）。

提供實驗與評估指標參考
累積報酬、夏普值、最大回撤等指標，可直接用於評估本系統 L2 決策層整合後的交易績效。